<app-page>
  <div class="main-page full-width" fxLayout="column" fxLayoutAlign="start start">

    <div class="full-width" fxLayout="column" fxLayoutAlign="start start" fxFlex>

      <div class="full-width" fxLayout="row" fxLayoutAlign="space-between center" fxFlex>
        <div fxLayout="row" fxLayoutAlign="start center">
          <h1 class="page-header" >Your Accounts</h1>
          <button style="margin-left: 30px;" mat-raised-button color="primary" (click)="addAnAccount()">
            <span fxLayout="row" fxLayoutAlign="start center">
              <mat-icon>add</mat-icon>
              <span>Add an account</span>
            </span>
          </button>
        </div>
        <div>
        </div>
      </div>

      <div *ngIf="accounts$ | async as accounts" fxLayout="row" fxLayoutAlign="start start" fxLayoutGap="20px" class="accounts">
        <mat-card *ngFor="let account of accounts" class="account">
          <div class="account-name">
            Name : {{ account.name }}
          </div>
          <div class="account-iban">
            IBAN : {{ account.iban }}
          </div>
          <button [disabled]="isLoading || account.bankConnection === 2" mat-stroked-button color="primary" (click)="connectToPonto(account)">
            Connect to Ponto
          </button>
        </mat-card>
      </div>
    </div>

    <div fxLayout="column" fxLayoutAlign="start start">
      <h1 class="page-header" >Connected Banks Accounts</h1>
      <div  fxLayout="row" fxLayoutAlign="start start" fxLayoutGap="20px" class="accounts">
      </div>
    </div>

    <div *ngIf="startPontoOnboarding" class="onboarding">
    </div>

  </div>
</app-page>
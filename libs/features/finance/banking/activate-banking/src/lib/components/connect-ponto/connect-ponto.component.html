<app-page>
  <div class="main-page">
    <div class="main-card">

      <!-- <div class="title">
        Connect your bank account(s)
      </div> -->

      <div *ngIf="!loadingAccounts else loading" class="accounts-container">
        <div class="bank-acc-card mat-elevation-z1" *ngFor="let bankAcc of newRenderAccounts" fxLayout="row"
          fxLayoutGap="10px" fxLayoutAlign="center center" fxFlex>

          <div fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="start start" fxFlex>

            <div class="account-details" fxLayout="column" fxFlex>

              <div class="my-account">
                <p class="account-title" >My Account</p>
                <span>{{ bankAccName }}</span>
              </div>

              <p class="account-title">Bank Account Details</p>

              <div class="account-data" fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="start start">
                <p> Holder Name : </p>
                <p> {{ bankAcc.displayData.holderName }} </p>
              </div>

              <div class="account-data" fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="start start">
                <p> Description : </p>
                <p> {{ bankAcc.displayData.description }} </p>
              </div>

              <div class="account-data" fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="start start">
                <p> Currency : </p>
                <p> {{ bankAcc.displayData.currency }} </p>
              </div>

              <div class="account-data" fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="start start">
                <p> Current Balance : </p>
                <p> {{ bankAcc.displayData.currentBalance }} </p>
              </div>

              <div class="account-data" fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="start start">
                <p> Available Balance : </p>
                <p> {{ bankAcc.displayData.availableBalance }} </p>
              </div>

              <div class="account-data" fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="start start">
                <p> Product : </p>
                <p> {{ bankAcc.displayData.product }} </p>
              </div>

              <div class="account-data" fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="start start">
                <p> Reference Type : </p>
                <p> {{ bankAcc.displayData.referenceType }} </p>
              </div>

              <div class="account-data" fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="start start">
                <p> Reference : </p>
                <p> {{ bankAcc.displayData.reference }} </p>
              </div>

              <button [disabled]="settingBankAccount" mat-raised-button color="primary" class="select-acc" (click)="setSelectedAccount(bankAcc)">
                Connect Account
              </button>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>

  <ng-template #loading>
    <mat-card fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="start center" class="loading">
      <p>Preparing account(s) data, Please wait....</p>
      <img src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Loading_2.gif?20170503175831" alt="">
    </mat-card>
  </ng-template>
</app-page>